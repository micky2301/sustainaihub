<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SustainAIHub - AI Tools for Sustainable Businesses</title>
    <meta name="description" content="Discover AI tools for sustainable businesses—irrigation optimization, waste sorting, emissions tracking. Submit yours!">
    <meta name="keywords" content="sustainable AI, green tech tools, eco AI directory, AI for environment">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "name": "SustainAIHub Tools",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Rainforest Connection", "url": "https://rfcx.org/" },
        { "@type": "ListItem", "position": 2, "name": "Kilimo", "url": "https://kilimo.com/" }
      ]
    }
    </script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f4; }
        h1 { color: #228B22; text-align: center; }
        #filter, #search { margin: 10px 0; padding: 10px; width: 200px; border: 1px solid #ddd; border-radius: 5px; }
        #search { width: 300px; }
        table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #228B22; color: white; }
        tr:hover { background: #f5f5f5; }
        a { color: #0066cc; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .loading { text-align: center; color: #666; }
    </style>
</head>
<body>
    <h1>SustainAIHub: AI Tools & Services for Sustainable Businesses</h1>
    <p style="text-align: center;">Discover AI solutions for eco-impact. Filter by category:</p>
    <select id="filter" onchange="searchTable(); filterTable();">
        <option value="">All Categories</option>
        <!-- Options will populate from data -->
    </select>
    <input type="text" id="search" placeholder="Search tools by name or description..." onkeyup="searchTable()">
    <div id="loading" class="loading">Loading listings...</div>
    <table id="listings" style="display: none;">
        <thead><tr><th>Name</th><th>Description</th><th>Website</th><th>Category</th></tr></thead>
        <tbody></tbody>
    </table>
    <div style="margin-top: 30px; text-align: center;">
        <h2>Add Your Tool</h2>
        <p>Know a sustainable AI solution? Submit it below—we'll review and feature it!</p>
        <a href="YOUR_FORM_LINK_HERE" target="_blank" style="background: #228B22; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Submit Now</a>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script>
        // Hardcoded data from your Sheet (updates on code push)
        const data = [
            { Name: 'Rainforest Connection', Description: 'Solar-powered AI audio devices detect illegal logging/poaching in forests via real-time sound analysis.', Website: 'https://rfcx.org/', Category: 'Biodiversity' },
            { Name: 'Kilimo', Description: 'AI analytics for smart irrigation: Uses satellite/weather data to predict crop water needs, cutting waste.', Website: 'https://kilimo.com/', Category: 'Agriculture' },
            { Name: 'Greyparrot', Description: 'Computer vision AI sorts recyclables in facilities, boosting efficiency and landfill diversion.', Website: 'https://www.greyparrot.ai/', Category: 'Waste Mgmt' },
            { Name: 'Okuafo Foundation', Description: 'Mobile app with image AI diagnoses crop diseases offline, helping small farmers reduce losses sustainably.', Website: 'https://okuafofoundation.com/', Category: 'Agriculture' },
            { Name: 'Flying Fish Tech', Description: 'AI underwater gliders map marine habitats in real-time for ecosystem monitoring and conservation.', Website: 'https://fft.ai/', Category: 'Marine Env' },
            { Name: 'Intuitive AI', Description: 'Sensor-based AI guides real-time waste sorting in public spaces, gamifying zero-waste habits.', Website: 'https://intuitiveai.ca/', Category: 'Waste Mgmt' },
            { Name: 'OpenAtlas', Description: 'Satellite AI tracks deforestation/land changes, aiding regulatory compliance for supply chains.', Website: 'https://www.open-atlas.com/', Category: 'Land Use' },
            { Name: 'Unspun', Description: 'AI-driven 3D weaving for on-demand custom clothes, slashing fashion inventory waste.', Website: 'https://www.unspun.io/', Category: 'Supply Chain' },
            { Name: 'BrainBox AI', Description: 'Real-time AI air quality monitoring with pollution forecasts for policy and health insights.', Website: 'brainboxai.com', Category: 'Air Quality' },
            { Name: 'EcoTrack AI', Description: 'Real-time AI dashboard for energy/carbon/waste tracking, optimized for enterprise sustainability.', Website: 'https://ecotrack.ai/', Category: 'Emissions' }
        ];

        function loadData() {
            // Instant load—no delay
            // Populate filter with unique, trimmed categories
            const categories = [...new Set(data.map(row => row.Category ? row.Category.trim() : '').filter(cat => cat))].sort();
            const filter = document.getElementById('filter');
            categories.forEach(cat => {
                const option = document.createElement('option');
                option.value = cat.toLowerCase();
                option.textContent = cat;
                filter.appendChild(option);
            });

            // Build table
            const tbody = document.querySelector('#listings tbody');
            data.forEach(row => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td><strong>${row.Name || ''}</strong></td>
                    <td>${row.Description || ''}</td>
                    <td><a href="${row.Website || '#'}" target="_blank">${row.Website || 'N/A'}</a></td>
                    <td>${row.Category || ''}</td>
                `;
                tr.dataset.category = (row.Category || '').toLowerCase().trim();
                tbody.appendChild(tr);
            });

            document.getElementById('loading').style.display = 'none';
            document.getElementById('listings').style.display = 'table';
            searchTable(); // Initial search (empty)
            filterTable(); // Initial filter (all)
        }

        function searchTable() {
            const searchValue = document.getElementById('search').value.toLowerCase();
            const rows = document.querySelectorAll('#listings tbody tr');
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = (text.includes(searchValue) || searchValue === '') ? '' : 'none';
            });
        }

        function filterTable() {
            const filterValue = document.getElementById('filter').value.toLowerCase();
            const rows = document.querySelectorAll('#listings tbody tr');
            rows.forEach(row => {
                if (row.style.display !== 'none') {  // Only process visible after search
                    const cat = row.dataset.category || '';
                    row.style.display = (filterValue === '' || cat === filterValue) ? '' : 'none';
                }
            });
        }

        // Load on page ready
        loadData();
    </script>
</body>
</html>
